<!DOCTYPE html>

<html>
<head>
    <title></title>
    <script src="require.js" type="text/javascript"></script>

    <style>
        .selected
        {
            background:#A6C8E4;
        }
        #itour-autocomplete
        {
            background:#aaa;
            color:#fff;
        }
    </style>
    <script>

        require.config({
            baseUrl: '../../../'
        });

        require(["jquery", "lib/util/itour.util.template", "lib/ui/itour.ui.autocomplete", "example/ui/autocomplete/network"], function () {
            itour.ui.autocomplete.defaultShowView = $("#temp-xx").html();

            itour.ui.autocomplete({
                el: "#test,#test2",
                data: network,
                dataField: 0,
                textField: 1,
                fuzzy: true,
                //limit: 115,
                position: { y: 10 },
                select: function (item) {
                    console.log(item);
                },
                emptyView: "<div style='background:#a6c8e4;color:#fff;'><div style='border:1px solid red;background-color:#fff;color:#333;'>你输入的是：@input</div>无相关数据</div>"
            });
        });

//        $(function () {
//            itour.ui.autocomplete.defaultShowView = $("#temp-xx").html();

//            itour.ui.autocomplete({
//                el: "#test",
//                data: network,
//                dataField: 0,
//                textField: 1,
//                //limit: 115,
//                position: { y: 10 },
//                select: function (item) {
//                    console.log(item);
//                },
//                emptyView: "<div style='background:#a6c8e4;color:#fff;'>无相关数据</div>"
//            });


//            var testData = { name: 'a test', rows: [
//                { a: 'say', b: 'hello' },
//                { a: 'and', b: 'world' },
//                { a: 'again', b: '!' }
//            ]
//            };

//            //测试桩
//            itour.ui.autocomplete._ajaxHandle = function (url, param, callback) {
//                setTimeout(function () {
//                    //if (console) { console.log('just a ajax test, never mind the callback data!'); }
//                    callback(testData);
//                }, 30);
//            };

//            itour.ui.autocomplete({
//                el: "#test2",
//                data: "hello.aspx",
//                position: { y: 10 },
//                emptyItem: { text: '-- 全部 --', value: '' },
//                getAjaxData: function (result) {
//                    return result.rows;
//                },
//                dataField: 'a',
//                textField: 'b'
//            });

//        });
    </script>
</head>
<body>
    <input type="text" id="test" /><br />
    <select><option value='1'>1</option></select>
    <span>hello</span><br />
    <span>world</span>
    <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
    <input type="text" id="test2" /><br />
    <select><option value='1'>1</option></select>
    <script id="temp-xx" type="text/template">
        <div style="height:350px;overflow:auto;">
            <div style="border:1px solid red;background-color:#fff;color:#333;">你输入的是：@input</div>
                  @for(var i = 0; i != data.length; i++){
                  <div class="list-item" index="@i">@data[i].text</div>
                  }
        </div>
    
    </script>
    <script type="text/template" id="temp-ac">
    <div style="z-index: 10; border-bottom: #a6c8e4 1px solid; border-left: #a6c8e4 1px solid;
    color: #666; font-size: 12px; border-top: #a6c8e4 1px solid; top: 131px;
    border-right: #a6c8e4 1px solid; left: 140px" id="divClientList">
    <table style="background-color: #fff" border="0" cellspacing="0" cellpadding="0"
        width="180">
        <tbody>
            <tr align="middle">
                <td style="padding-bottom: 0px; background-color: transparent; padding-left: 0px;
                    padding-right: 0px; padding-top: 0px" id="Popup_Tab" align="middle">
                    <table style="padding-bottom: 0px; background-color: #ffffff; padding-left: 0px;
                        width: 100%; padding-right: 0px; height: 23px; padding-top: 0px" border="0" cellspacing="0"
                        cellpadding="0">
                        <tbody>
                            <tr style="padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px"
                                align="middle">
                                <td style="line-height: 18px; background-color: #6fa4d9; color: #fff; font-size: 12px"
                                    id="td_Title" height="23" align="left">
                                    <span style="float: left">请输入名称(双击清空)</span><span style="display: inline; float: right;
                                        color: #fff; font-size: 12px; cursor: hand; font-weight: bold; margin-right: 5px"
                                        title="关闭" onclick="hiddenContainer()">×</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <div style="padding-bottom: 0px; padding-left: 0px; padding-right: 0px; max-height: 300px;
                        overflow: hidden; padding-top: 0px" id="divScroll">
                        <table style="padding-bottom: 0px; padding-left: 0px; padding-right: 0px; font-size: 9pt;
                            padding-top: 0px" id="tbl_Iterms" border="0" cellspacing="0" cellpadding="0"
                            width="100%">
                            <tbody>
                                @for(var i = 0; i != data.length; i++){
                                <tr style="cursor: hand" id="trIterm0"  align="middle" name="2|xx">
                                    <td width="150" align="left" class="list-item" index="@i">
                                        @data[i].text
                                    </td>
                                </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
    </script>
</body>
</html>
